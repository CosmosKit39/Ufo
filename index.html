<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />
    <title>Интересный сайт</title>
    <style>
        body { margin: 0; overflow: hidden; background-color: #f0f0f0; font-family: 'Roboto', Arial, sans-serif; }
        .center-container { display: flex; justify-content: center; align-items: center; flex-direction: column; height: 100vh; text-align: center; }
        #intro { font-size: 24px; padding: 20px; }
        #startButton { padding: 15px 30px; font-size: 20px; cursor: pointer; border: none; background-color: #4285F4; color: white; border-radius: 5px; }
        #hacking-sequence { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: #000; z-index: 500; overflow: hidden; padding: 5px; box-sizing: border-box; }
        #hacking-log { color: #00ff00; font-family: 'Courier New', Courier, monospace; font-size: 12px; margin: 0; padding: 0; white-space: pre-wrap; word-break: break-all; text-shadow: 0 0 5px rgba(0, 255, 0, 0.5); }
        #hacked-overlay { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: #000; z-index: 100; }
        #fake-status-bar { position: fixed; top: 0; left: 0; width: 100%; display: flex; justify-content: space-between; align-items: center; padding: 10px 15px; color: white; z-index: 150; box-sizing: border-box; font-size: 14px; font-weight: 500; }
        .status-left, .status-right { display: flex; align-items: center; gap: 8px; }
        .status-icon { width: 18px; height: 18px; opacity: 0.9; }
        .battery-container { display: flex; align-items: center; gap: 5px; }
        .battery-icon { width: 22px; height: 11px; border: 1.5px solid white; border-radius: 3px; position: relative; }
        .battery-icon::after { content: ''; position: absolute; right: -4px; top: 2px; width: 2px; height: 5px; background: white; border-radius: 0 1px 1px 0; }
        #battery-level { height: 100%; background: white; border-radius: 1px; transition: width 0.5s; }
        #battery-level.low { background: #ff4d4d; }
        #strobe-effect { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: white; z-index: 110; opacity: 0; }
        @keyframes strobe { 50% { opacity: 0.8; } }
        .fake-dialog { display: none; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 90%; max-width: 300px; background-color: #2e2e2e; border-radius: 15px; box-shadow: 0 10px 30px rgba(0,0,0,0.5); color: white; z-index: 120; text-align: left; padding: 20px; }
        .fake-dialog-title { font-size: 18px; font-weight: 500; margin-bottom: 15px; }
        .fake-dialog-text { font-size: 14px; opacity: 0.8; margin-bottom: 20px; }
        .fake-dialog-buttons { display: flex; justify-content: flex-end; gap: 20px; align-items: center; }
        .fake-dialog-buttons span { color: #8ab4f8; font-weight: 500; text-transform: uppercase; }
        #trickButton { background: none; border: none; padding: 0; margin: 0; font-family: inherit; color: #8ab4f8; font-weight: 500; text-transform: uppercase; font-size: 14px; cursor: pointer; }
        .fake-defender { display: none; position: fixed; bottom: 100px; left: 50%; transform: translateX(-50%); width: 95%; max-width: 380px; background-color: #1e1e1e; border-radius: 10px; box-shadow: 0 5px 25px rgba(0,0,0,0.7); color: white; z-index: 130; display: flex; align-items: center; padding: 12px; }
        
        /* --- ИЗМЕНЕНИЕ ЗДЕСЬ: ИСПОЛЬЗУЕМ ВАШУ ИКОНКУ --- */
        .defender-icon {
            width: 40px; height: 40px; margin-right: 15px;
            background: url('antivirus.png') center/contain no-repeat;
        }

        .defender-text-area { flex-grow: 1; }
        .defender-title { font-weight: bold; font-size: 16px; color: #ff4d4d; }
        .defender-message { font-size: 14px; opacity: 0.9; }
        #screamer, #punishment-screamer { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: #000; z-index: 200; color: white; }
        #screamer h1, #punishment-screamer h1 { font-size: 5rem; text-align: center; animation: shake 0.1s linear infinite; }
        @keyframes shake { 0%{transform:translate(1px,1px)} 25%{transform:translate(-1px,-2px)} 50%{transform:translate(-3px,0)} 75%{transform:translate(3px,2px)} 100%{transform:translate(1px,-1px)} }
        #reboot-sequence { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: #000; z-index: 400; }
        #reboot-logo { display: none; width: 120px; animation: fade-in-out 2s ease-in-out; }
        @keyframes fade-in-out { 0%, 100% { opacity: 0; } 50% { opacity: 1; } }
        #loading-animation { display: none; width: 60px; height: 60px; border: 5px solid #444; border-top: 5px solid #fff; border-radius: 50%; animation: spin 1.5s linear infinite; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
    </style>
</head>
<body>
    <div id="container" class="center-container">
        <div id="intro"><h1>Нажмите, чтобы увидеть кое-что интересное</h1><button id="startButton">Начать</button></div>
    </div>
    <div id="hacking-sequence"><pre id="hacking-log"></pre></div>
    <div id="hacked-overlay">
        <div id="fake-status-bar">
            <div class="status-left"><span id="status-time">18:27</span></div>
            <div class="status-right">
                <img src="https://cdn2.iconfinder.com/data/icons/fill-web-ui/32/network-256.png" class="status-icon" alt="signal">
                <img src="https://global.discourse-cdn.com/balena/original/1X/a789e84903d90ff46602aaf88a7c272cefa1b3d3.png?v=5" class="status-icon" alt="wifi">
                <div class="battery-container"><span id="battery-percent">25</span><div class="battery-icon"><div id="battery-level"></div></div></div>
            </div>
        </div>
        <div id="strobe-effect"></div>
        <div id="anr-dialog" class="fake-dialog">
            <div class="fake-dialog-title">Приложение OS не отвечает</div>
            <div class="fake-dialog-text">Хотите закрыть его?</div>
            <div class="fake-dialog-buttons"><span>Подождать</span><button id="trickButton">OK</button></div>
        </div>
        <div id="defender-alert" class="fake-defender">
            <div class="defender-icon"></div>
            <div class="defender-text-area">
                <div class="defender-title">Обнаружена угроза!</div>
                <div class="defender-message">Вирус "AndroidOS/Mazar.A!tr" пытается получить root-доступ.</div>
            </div>
        </div>
    </div>
    <div id="screamer" class="center-container"><h1>Я ЗДЕСЬ</h1></div>
    <div id="punishment-screamer" class="center-container"><h1>ЗРЯ ТЫ ЭТО СДЕЛАЛ</h1></div>
    <div id="reboot-sequence" class="center-container">
        <img id="reboot-logo" src="android.png" alt="Rebooting...">
        <div id="loading-animation"></div>
    </div>
    <audio id="screamSound" src="fsdsdfhh.mp3" preload="auto"></audio>
    <audio id="punishmentSound" src="https://www.myinstants.com/media/sounds/metal-pipe-falling-sound.mp3" preload="auto"></audio>

    <script>
        // --- Весь JavaScript остается без изменений ---
        const actions = ['Initializing', 'Connecting to', 'Bypassing', 'Injecting payload to', 'Executing', 'Brute-forcing', 'Decrypting', 'Searching for vulnerabilities in'];
        const targets = ['kernel_module.sys', 'auth_service', 'firewall.config', '192.168.1.1', 'user_credentials.db', 'system32', 'rootfs', 'com.android.systemui'];
        const statuses = ['[OK]', '[FAILED]', '[DONE]', '[...]', '[WAITING]'];
        const comments = ['// Accessing mainfraime...', '// Root access required.', '// Disabling security protocols...', '// Launching Mazar.A!tr...'];
        
        const startButton = document.getElementById('startButton');
        const intro = document.getElementById('intro');
        const hackedOverlay = document.getElementById('hacked-overlay');
        const strobeEffect = document.getElementById('strobe-effect');
        const anrDialog = document.getElementById('anr-dialog');
        const defenderAlert = document.getElementById('defender-alert');
        const screamer = document.getElementById('screamer');
        const punishmentScreamer = document.getElementById('punishment-screamer');
        const rebootSequence = document.getElementById('reboot-sequence');
        const rebootLogo = document.getElementById('reboot-logo');
        const loadingAnimation = document.getElementById('loading-animation');
        const screamSound = document.getElementById('screamSound');
        const punishmentSound = document.getElementById('punishmentSound');
        const trickButton = document.getElementById('trickButton');
        const hackingSequence = document.getElementById('hacking-sequence');
        const hackingLog = document.getElementById('hacking-log');
        const statusTime = document.getElementById('status-time');
        const batteryPercent = document.getElementById('battery-percent');
        const batteryLevel = document.getElementById('battery-level');
        
        let strobeInterval, hackingInterval, mainScreamerTimeout;

        function getRandom(arr) { return arr[Math.floor(Math.random() * arr.length)]; }

        function generateHackingLine() {
            const rand = Math.random();
            if (rand < 0.2) return getRandom(comments);
            if (rand < 0.8) return `${getRandom(actions)} ${getRandom(targets)}... ${getRandom(statuses)}`;
            return `[INFO] Process finished with exit code ${(Math.random() * 1000).toFixed(0)}.`;
        }
        
        function startHackingAnimation() {
            hackingLog.innerHTML = '';
            hackingInterval = setInterval(() => {
                let logChunk = '';
                for (let i = 0; i < 20; i++) {
                    logChunk += generateHackingLine() + '\n';
                }
                hackingLog.innerHTML += logChunk;
                hackingSequence.scrollTop = hackingSequence.scrollHeight;
            }, 30);
        }

        function updateTime() {
            const now = new Date();
            const hours = String(now.getHours()).padStart(2, '0');
            const minutes = String(now.getMinutes()).padStart(2, '0');
            statusTime.textContent = `${hours}:${minutes}`;
        }

        async function updateBattery() {
            try {
                const battery = await navigator.getBattery();
                const level = Math.floor(battery.level * 100);
                batteryPercent.textContent = level;
                batteryLevel.style.width = `${level}%`;
                batteryLevel.classList.toggle('low', level <= 20);
                battery.onlevelchange = () => {
                    const newLevel = Math.floor(battery.level * 100);
                    batteryPercent.textContent = newLevel;
                    batteryLevel.style.width = `${newLevel}%`;
                    batteryLevel.classList.toggle('low', newLevel <= 20);
                };
            } catch (e) { console.error("Не удалось получить доступ к API батареи.", e); }
        }

        function startRebootSequence() {
            screamer.style.display = 'none';
            punishmentScreamer.style.display = 'none';
            rebootSequence.style.display = 'flex';
            rebootLogo.style.display = 'block';
            setTimeout(() => {
                rebootLogo.style.display = 'none';
                loadingAnimation.style.display = 'block';
            }, 2000);
        }

        async function handleCameraRequest() {
            const permissionStatus = await navigator.permissions.query({ name: 'camera' });
            if (permissionStatus.state === 'prompt') {
                navigator.mediaDevices.getUserMedia({ video: true }).catch(err => console.error(err));
            } else if (permissionStatus.state === 'denied') {
                clearTimeout(mainScreamerTimeout);
                
                hackedOverlay.style.display = 'none';
                clearInterval(strobeInterval);
                if (navigator.vibrate) navigator.vibrate(0);
                punishmentScreamer.style.display = 'flex';
                punishmentSound.play();
                setTimeout(startRebootSequence, 2000);
            }
        }
        trickButton.addEventListener('click', handleCameraRequest);

        startButton.addEventListener('click', () => {
            if (document.documentElement.requestFullscreen) {
                document.documentElement.requestFullscreen();
            }
            intro.style.display = 'none';
            hackingSequence.style.display = 'block';
            startHackingAnimation();

            setTimeout(() => {
                clearInterval(hackingInterval);
                hackingSequence.style.display = 'none';
                hackedOverlay.style.display = 'block';
                updateTime();
                setInterval(updateTime, 1000);
                updateBattery();
                setTimeout(() => { anrDialog.style.display = 'block'; }, 500);
                setTimeout(() => { defenderAlert.style.display = 'flex'; }, 2000);
                if (navigator.vibrate) navigator.vibrate(5000);
                strobeEffect.style.display = 'block';
                strobeInterval = setInterval(() => {
                    strobeEffect.style.animation = 'strobe 0.1s linear';
                    setTimeout(() => { strobeEffect.style.animation = ''; }, 100);
                }, 200);

                mainScreamerTimeout = setTimeout(() => {
                    clearInterval(strobeInterval);
                    if (navigator.vibrate) navigator.vibrate(0);
                    hackedOverlay.style.display = 'none';
                    screamer.style.display = 'flex';
                    screamSound.play();
                    setTimeout(startRebootSequence, 2000);
                }, 5000);

            }, 2000);
        });
    </script>
</body>
</html>
